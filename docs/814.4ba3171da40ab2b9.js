"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[814],{3814:(N,m,d)=>{d.r(m),d.d(m,{SettingModule:()=>J});var w=d(6814),a=d(95),f=d(7919),c=d(1120),g=d(7394),t=d(4769),_=d(2425);function h(s,n){1&s&&(t.TgZ(0,"p"),t._uU(1," password must be required "),t.qZA())}function v(s,n){1&s&&(t.TgZ(0,"p"),t._uU(1," password must be form 4 characters to 8 characters "),t.qZA())}function P(s,n){if(1&s&&(t.TgZ(0,"div",15),t.YNc(1,h,2,0,"p",16),t.YNc(2,v,2,0,"p",16),t.qZA()),2&s){const o=t.oxw();let e,r;t.xp6(1),t.Q6J("ngIf",null==(e=o.updatePasswordForm.get("currentPassword"))?null:e.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(r=o.updatePasswordForm.get("currentPassword"))?null:r.getError("pattern"))}}function Z(s,n){1&s&&(t.TgZ(0,"p"),t._uU(1," password must be required "),t.qZA())}function U(s,n){1&s&&(t.TgZ(0,"p"),t._uU(1," password must be form 4 characters to 8 characters "),t.qZA())}function T(s,n){if(1&s&&(t.TgZ(0,"div",15),t.YNc(1,Z,2,0,"p",16),t.YNc(2,U,2,0,"p",16),t.qZA()),2&s){const o=t.oxw();let e,r;t.xp6(1),t.Q6J("ngIf",null==(e=o.updatePasswordForm.get("password"))?null:e.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(r=o.updatePasswordForm.get("password"))?null:r.getError("pattern"))}}function x(s,n){1&s&&(t.TgZ(0,"p"),t._uU(1," rePassword must be required "),t.qZA())}function b(s,n){1&s&&(t.TgZ(0,"p"),t._uU(1," rePassword must be matched with password "),t.qZA())}function A(s,n){if(1&s&&(t.TgZ(0,"div",15),t.YNc(1,x,2,0,"p",16),t.YNc(2,b,2,0,"p",16),t.qZA()),2&s){const o=t.oxw();let e,r;t.xp6(1),t.Q6J("ngIf",null==(e=o.updatePasswordForm.get("rePassword"))?null:e.getError("required")),t.xp6(1),t.Q6J("ngIf",null==(r=o.updatePasswordForm.get("rePassword"))?null:r.getError("mismatch"))}}function C(s,n){1&s&&t._UZ(0,"i",17)}function q(s,n){if(1&s&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&s){const o=t.oxw();t.xp6(1),t.hij(" ",o.errMsg," ")}}const I=[{path:"",redirectTo:"updatepassword",pathMatch:"full"},{path:"updatepassword",component:(()=>{class s{constructor(o,e,r,p){this._formBuilder=o,this._registerService=e,this._router=r,this._toastrService=p,this.isLoading=!1,this.errMsg="",this.updatePasswordsubscription=new g.w0,this.updatePasswordForm=this._formBuilder.group({currentPassword:["",[a.kI.required,a.kI.pattern(/^[a-z][a-z0-9]{3,8}$/)]],password:["",[a.kI.required,a.kI.pattern(/^[a-z][a-z0-9]{3,8}$/)]],rePassword:["",[a.kI.required]]},{validators:[this.confirmPassword]})}updatePassword(o){o.valid?(this.isLoading=!0,this.updatePasswordsubscription=this._registerService.changeMyPassword(o.value).subscribe({next:e=>{"success"==e.message&&(this.isLoading=!1,localStorage.setItem("eToken",e.token),this._registerService.saveUserData(),this._toastrService.success(`${e.user.name} your password has been updated`),this._router.navigate(["/home"]))},error:e=>{this.isLoading=!1,this.errMsg=e.error.errors.msg}})):o.markAllAsTouched()}confirmPassword(o){const e=o.get("password"),r=o.get("rePassword");""==r?.value?r.setErrors({required:!0}):e?.value!=r?.value&&r?.setErrors({mismatch:!0})}ngOnDestroy(){this.updatePasswordsubscription.unsubscribe()}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(a.qu),t.Y36(f.a),t.Y36(c.F0),t.Y36(_._W))};static#s=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-updatepassword"]],decls:27,vars:7,consts:[[1,"my-5"],[1,"w-75","mx-auto","bg-main-light","p-4","rounded"],[1,"text-capitalize","fw-bolder","text-main"],[3,"formGroup","ngSubmit"],[1,"mb-3","form-group"],["for","password",1,"form-label"],["type","password","formControlName","currentPassword","id","Current password",1,"form-control"],["passwordlInput",""],["class","alert alert-danger",4,"ngIf"],["type","password","formControlName","password","id","password",1,"form-control"],["for","rePassword",1,"form-label"],["type","password","formControlName","rePassword","id","rePassword",1,"form-control"],["rePasswordlInput",""],[1,"btn-main","text-white","d-block","ms-auto","mb-3",3,"disabled"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,r){if(1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),t._uU(3,"Update Password:"),t.qZA(),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(){return r.updatePassword(r.updatePasswordForm)}),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"Current password:"),t.qZA(),t._UZ(8,"input",6,7),t.YNc(10,P,3,2,"div",8),t.qZA(),t.TgZ(11,"div",4)(12,"label",5),t._uU(13,"password:"),t.qZA(),t._UZ(14,"input",9,7),t.YNc(16,T,3,2,"div",8),t.qZA(),t.TgZ(17,"div",4)(18,"label",10),t._uU(19,"rePassword:"),t.qZA(),t._UZ(20,"input",11,12),t.YNc(22,A,3,2,"div",8),t.qZA(),t.TgZ(23,"button",13),t.YNc(24,C,1,0,"i",14),t._uU(25,"Confirm "),t.qZA(),t.YNc(26,q,2,1,"div",8),t.qZA()()()),2&e){const p=t.MAs(9),Y=t.MAs(21);let i,u,l;t.xp6(4),t.Q6J("formGroup",r.updatePasswordForm),t.xp6(6),t.Q6J("ngIf",(null==(i=r.updatePasswordForm.get("currentPassword"))?null:i.errors)&&((null==(i=r.updatePasswordForm.get("currentPassword"))?null:i.touched)||p.value.length>0)),t.xp6(6),t.Q6J("ngIf",(null==(u=r.updatePasswordForm.get("password"))?null:u.errors)&&((null==(u=r.updatePasswordForm.get("password"))?null:u.touched)||p.value.length>0)),t.xp6(6),t.Q6J("ngIf",(null==(l=r.updatePasswordForm.get("rePassword"))?null:l.errors)&&((null==(l=r.updatePasswordForm.get("rePassword"))?null:l.touched)||Y.value.length>0)),t.xp6(1),t.Q6J("disabled",r.updatePasswordForm.invalid),t.xp6(1),t.Q6J("ngIf",r.isLoading),t.xp6(2),t.Q6J("ngIf",r.errMsg)}},dependencies:[w.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]})}return s})(),title:"Update Password"}];let F=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#s=this.\u0275mod=t.oAB({type:s});static#r=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(I),c.Bz]})}return s})(),J=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#s=this.\u0275mod=t.oAB({type:s});static#r=this.\u0275inj=t.cJS({providers:[f.a],imports:[w.ez,F,a.UX]})}return s})()}}]);